<style>
body {
	margin: 0;
	padding: 0;
	overflow: hidden;

	background-color: #1a1111;
	color: #eee;
}

h1, h2, h3 { margin: 0 }

#pages {
	height: 100vh;
	overflow-y: scroll;
	scroll-snap-type: y mandatory;
}
.page {
	margin: 0;
	padding: 0;
	height: 100vh;
	scroll-snap-align: start;

	display: flex;
	justify-content: center;
}

.card {
	background-color: #0a0000;
	font-size: 2em;

	margin: 0;
	padding: 2em;

	display: flex;
	align-items: center;
	width: 60vw
}

.card img { display: block; min-height: 60%; height: 10em }

.songinfo {
	padding: 2em
}
</style>


<div id="pages">

	<div class="page">
		<div class="card">
			<blockquote>
				<h1>hello</h1>
				<h2>welcome to my 特に気に入った曲s!</h2>
				<h3>these are some 曲s that 入ったed my 気.</h3>
				<p>
					use ↑, ↓ to navigate songs!<br>
					use ←, →, to adjust volume.<br>
					<i>note: you may need to click in the window before using arrow keys</i>
				</p>
			</blockquote>
		</div>
	</div>

	<div class="page">
		<div class="card">
			<img src="media/badaboom.jpg">
			<audio class="song" preload="auto" src="media/badaboom.flac" start="52.65">oopsies!</audio>
			<div class="songinfo">
				WJSN - BADABOOM 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/coolhotsweetlove.jpg">
			<audio class="song" preload="auto" src="media/coolhotsweetlove.flac" start="49.8">oopsies!</audio>
			<div class="songinfo">
				Red Velvet - Cool Hot Sweet Love 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/nobodylikeyou.jpg">
			<audio class="song" preload="auto" src="media/nobodylikeyou.flac" start="53.7">oopsies!</audio>
			<div class="songinfo">
				ITZY - NOBODY LIKE YOU 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/나의_밤.jpg">
			<audio class="song" preload="auto" src="media/나의_밤.flac" start="48.24">oopsies!</audio>
			<div class="songinfo">
				EXID - 나의 밤 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/dundun.jpg">
			<audio class="song" preload="auto" src="media/dundun.flac" start="46.7">oopsies!</audio>
			<div class="songinfo">
				Everglow - DUN DUN 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/enough.jpg">
			<audio class="song" preload="auto" src="media/enough.flac" start="35.05">oopsies!</audio>
			<div class="songinfo">
				Apink - Enough 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/hereweare.jpg">
			<audio class="song" preload="auto" src="media/hereweare.flac" start="46.66">oopsies!</audio>
			<div class="songinfo">
				GFRIEND - Here We Are 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/number1.jpg">
			<audio class="song" preload="auto" src="media/number1.flac" start="45.95">oopsies!</audio>
			<div class="songinfo">
				LOONA - Number 1 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/bingbing.jpg">
			<audio class="song" preload="auto" src="media/bingbing.flac" start="53.45">oopsies!</audio>
			<div class="songinfo">
				Nature - Bing Bing 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/bimbambum.jpg">
			<audio class="song" preload="auto" src="media/bimbambum.flac" start="47.2">oopsies!</audio>
			<div class="songinfo">
				Rocket Punch - BIM BAM BUM 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/pickypicky.jpg">
			<audio class="song" preload="auto" src="media/pickypicky.flac" start="51.64">oopsies!</audio>
			<div class="songinfo">
				Weki Meki - Picky Picky 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/daydream.jpg">
			<audio class="song" preload="auto" src="media/daydream.flac" start="54.44">oopsies!</audio>
			<div class="songinfo">
				IZ*ONE - DAYDREAM 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/dramatic.jpg">
			<audio class="song" preload="auto" src="media/dramatic.flac" start="45.6">oopsies!</audio>
			<div class="songinfo">
				BVNDIT - Dramatic 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/sahara.jpg">
			<audio class="song" preload="auto" src="media/sahara.flac" start="53.64">oopsies!</audio>
			<div class="songinfo">
				Dreamcatcher - Sahara 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/oh_my_god.jpg">
			<audio class="song" preload="auto" src="media/oh_my_god.flac" start="51.45">oopsies!</audio>
			<div class="songinfo">
				(G)I-DLE - Oh my god 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/하루에_세번.jpg">
			<audio class="song" preload="auto" src="media/하루에_세번.flac" start="59.45">oopsies!</audio>
			<div class="songinfo">
				Twice - 하루에 세번 
			</div>
		</div>
	</div>
	<div class="page">
		<div class="card">
			<img src="media/pianoman.jpg">
			<audio class="song" preload="auto" src="media/pianoman.flac" start="64.6">oopsies!</audio>
			<div class="songinfo">
				Mamamoo - Piano Man 
			</div>
		</div>
	</div>

</div>

<script>
const PAGES  = document.querySelector('#pages')
const AUDIOS = document.querySelectorAll('.song')
const VOLUME_KEY = 'max_volume'

let max_vol = parseFloat(window.localStorage.getItem(VOLUME_KEY))
if (!max_vol)
	max_vol = 0.5

let curr = AUDIOS[0]

window.addEventListener('keydown', function(e) {

	console.log(e.key)

	if (e.key === 'ArrowLeft')
		max_vol = Math.max(0, max_vol - 0.1)
	else if (e.key === 'ArrowRight')
		max_vol = Math.min(1, max_vol + 0.1)
	else
		return

	curr.volume = max_vol
	window.localStorage.setItem(VOLUME_KEY, max_vol)
})

PAGES.addEventListener('scroll', function(e) {
	curr.volume = Math.max(0, curr.volume - 0.045*max_vol)

	console.log(this.scrollTop, this.offsetHeight)
	if(this.scrollTop % this.offsetHeight == 0)
		play(this.scrollTop / this.offsetHeight)
})

function play(i)
{
	curr.pause()

	if (i == 0) // intro page
		return
	curr = AUDIOS[i - 1]

	curr.volume = max_vol
	curr.currentTime = curr.getAttribute('start')
	curr.play()
}
</script>